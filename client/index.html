<head>
  <title>MeetMe: Simple Event Scheduling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  {{> page }}
</body>
   
<template name="page">
  {{#if showCreateDialog}}
    {{> createDialog}}
  {{/if}}

  {{#if showTimeProposalsDialog}}
    {{> timeProposalsDialog}}
  {{/if}}
  
  {{#if showAttendeesDialog}}
    {{> attendeesDialog}}
  {{/if}}
  
    	
  <div class="container">
    <div class="masthead">
      <!-- Navbar -->
	  <div class="navbar navbar-inverse">
	    <div class="navbar-inner">
	      <div class="container" style="width: auto;">
	      <a class="brand" href="/">MeetMe</a>
	        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	          <span class="icon-bar"></span>
	          <span class="icon-bar"></span>
	          <span class="icon-bar"></span>
	        </a>
	        <div class="nav-collapse">
	          <ul class="nav">
	            <li class="active"><a href="/">Home</a></li>
	            <li><a href="/features">Features</a></li>
	            <li><a href="#">Why MeetMe?</a></li>
	            <li><a href="#">Sign Up Free</a></li>
	          </ul>
	          
	          {{#if currentUser}}
                <form class="navbar-search pull-left" action="">
                   <input type="text" class="search-query span2 event_search_box" placeholder="Find your events..." name="find_event" >
                   <!-- <input type="button" class="reset btn" value="x"> -->
                </form>
	          {{/if}}
	          
	          <ul class="nav pull-right">
	            <li><a href="#">{{loginButtons}}</a></li>
	          </ul>
	          
	        </div><!-- /.nav-collapse -->
	      </div>
	    </div><!-- /navbar-inner -->
	  </div><!-- /navbar -->
      </div>
      
      {{> appointments }}
  </div>
    
  <div class="footer">
    <p>&copy; Company & Company 2013</p>
  </div>
</template>

<template name="appointments">
  {{#if currentUser}}
    {{> dashboard }}
  {{/if}}
  
  {{#unless currentUser}}
    {{> landingSlider }}
  {{/unless}}
</template>

<template name="dashboard">
  
  {{#unless anyAppointments }}
    <div class="row">
      <div class="span12">
        <div class="alert alert-info">
          <strong>Hola!</strong><br/> Looks like you have not created any events yet. 
          Use the "Add Event" bar below to get started.
        </div>
      </div>
    </div>
  {{/unless }}
  
  {{> newappointment }}
  
  {{#if anyAppointments }}
  <div class="row">
    <div class="span4">
      <h2>List of Events</h2>
      {{#each appointments}}
        {{> appointment }}
      {{/each}}
    </div>
    
    <div class="span8">
      {{> appointmentdetail }}
    </div>
  </div>
  {{/if }}
  
  
</template>

<template name="newappointment">
  <form class="well form-search">
  <p><input type="text" id="title" placeholder="Event title">
  <input type="text" id="location" placeholder="Location (e.g. 1600 American Dream Way, Reston, VA 20122)">
  <a id="btnAddEvent" value="Add Event" class="btn btn-primary">
  	<i class="icon-calendar icon-white"/>Add Event</a>
  </form>	
</template>

<template name="appointment">
  <div class="aptlist {{selected}}">
  	<span class="title">{{title}}</span>
  	<div class="actions"><button id="btnMsgDelete" class="close">&times;</button></div><br/>
  	<span class="location">{{location}}</span>
  </div>
</template>

<template name="appointmentdetail">
  {{#if selected}}
  
    <form class="form-horizontal well">
        <fieldset>
          <legend>Event Details</legend>
          
		    <div class="appointmentdetail">
		      <h3 class="apttitle">{{selected.title}}</h3>
		      <address>
		        <strong>Location</strong><br>
		        {{selected.location}}<br>
		        <abbr title="Phone">P:</abbr> (123) 456-7890
		      </address>
			  
			  <!-- Time Proposals -->
			  {{#if anyTimeProposal }}
			    <legend>Time Proposals</legend>
			    {{#each timeproposals}}
			       {{> timeproposal }}
			    {{/each}}
			  {{/if}}
			  
			  {{#unless anyTimeProposal }}
		        <div class="alert alert-info">
		          <strong>Ahoy!</strong><br/> Looks like you have not added any time proposals yet. 
		          Use the "Time Proposals" button below to get started.
		        </div>
			  {{/unless }}
			  
			  
			  <!-- Attendees -->
			  {{#if anyAttendee }}
			    <legend>Attendees</legend>
			    {{#each attendees}}
			       {{> attendee }}
			    {{/each}}
			  {{/if}}
			  
			  {{#unless anyAttendee }}
		        <div class="alert alert-info">
		          <strong>Good morrow, friend!</strong><br/> Looks like you have not added any attendees yet. 
		          Use the "Attendees" button below to get started.
		        </div>
			  {{/unless }}
			  
			</div>
	
	   <div class="form-actions">
         <input type="button" class="btn" id="btnAttendees" value="Attendees" />
	     <input type="button" class="btn" value="Edit Event Details" />
	     <button type="button" id="btnTimeProposals" class="btn">Time Proposals</button>
       </div>
	</fieldset>
	</form>
  {{/if}}

  {{#unless selected}}
    <div>Click an event to view details</div>
  {{/unless}}
  
  
  <!-- Time Proposals Modal -->
  <div id="timeProposalModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
      <h3 id="myModalLabel">Manage Time Proposals</h3>
    </div>
  
    <div class="modal-body">
      <span>New time proposal:</span><input type="text" id="proposalDate" placeholder="Proposal date">
      <input type="text" id="proposalTime" placeholder="Proposal time">
      <a id="btnAddTimeProposal" value="Add Proposal" class="btn btn-primary btn-small">
  	    <i class="icon-time icon-white"/>Add Proposal</a>
    </div>
    
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
      <button class="btn btn-primary">Save changes</button>
    </div>
</div>
  
</template>

<template name="attendee">
  <strong>Name: </strong><span>{{name}}</span>
  <strong>Email: </strong><span>{{email}}</span>
  <strong>Invitation sent: </strong><span>{{invited}}</span>
  <button id="btnAttendeeDelete" class="close">&times;</button>
  <br/>
</template>

<template name="timeproposal">
  <strong>Date: </strong><span>{{date}}</span>:<span>{{time}}</span>
  <strong>Votes: </strong><span>{{votes}}</span>
  <button id="btnTimeProposalDelete" class="close">&times;</button>
  <br/>
</template>


<template name="landingSlider">
  <div>
    <!-- Jumbotron -->
      <div class="jumbotron">
        <h1>Simple meetings!</h1>
        <p class="lead">Cras justo odio, dapibus ac facilisis in, egestas eget quam. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
        <a class="btn btn-large btn-success" href="#">Get started today</a>
      </div>

      <hr>

      <!-- Example row of columns -->
      <div class="row-fluid">
        <div class="span3">
          <h2>Create an event</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">Create an event &raquo;</a></p>
        </div>
        <div class="span3">
          <h2>Add time proposals</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
       </div>
        <div class="span3">
          <h2>Add invitees</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
        
        <div class="span3">
          <h2>Send invitations</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
      </div>

      <hr>

  </div>
</template>

<template name="timeProposalsDialog">
  <div class="mask"> </div>
  <div class="modal">
    <div class="modal-header">
      <button type="button" class="close done">&times;</button>
      <h3>Time Proposals</h3>
    </div>

    <div class="modal-body">
      <h4>Time Proposal</h4>
      <span>New time proposal:</span><input type="text" id="proposalDate" placeholder="Proposal date">
      <input type="text" id="proposalTime" placeholder="Proposal time">
      <a id="btnAddTimeProposals" value="Add Proposal" class="btn btn-primary">
  	  <i class="icon-time icon-white"/>Add Proposal</a>
    </div>

    <div class="modal-footer">
      <a href="#" class="btn btn-primary done">Done</a>
    </div>
  </div>
</template>

<template name="attendeesDialog">
  <div class="mask"> </div>
  <div class="modal">
    <div class="modal-header">
      <button type="button" class="close done">&times;</button>
      <h3>Attendees</h3>
    </div>

    <div class="modal-body">
      <form class="form-horizontal well">
        <fieldset>
          <legend>Add Attendee</legend>
          <div class="control-group">
          <label class="control-label" for="input01">Full name</label>
          <div class="controls">
            <input type="text" class="input-xlarge" id="attendeeName" placeholder="e.g. Monica Jonhson">
          </div>
                  <label class="control-label" for="input01">Email</label>
                  <div class="controls">
                    <input type="text" class="input-xlarge" id="attendeeEmail" placeholder="e.g. monica@email.com">
                  </div>
                </div>
                
                <div class="form-actions">
                  <a  value="Add Proposal" class="btn btn-primary" id="btnAddAttendee">
  	    		  <i class="icon-user icon-white"/>Add Attendee</a>
                </div>
            </fieldset>
          </form>
    </div>

    <div class="modal-footer">
      <a href="#" class="btn btn-primary done">Done</a>
    </div>
  </div>
</template>
