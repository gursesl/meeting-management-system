<head>
  <title>Meteor Doodle: Event Schdeling Made Simple</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  {{> page }}
</body>
   
<template name="page">
  {{#if showCreateDialog}}
    {{> createDialog}}
  {{/if}}

  {{#if showTimeProposalsDialog}}
    {{> timeProposalsDialog}}
  {{/if}}
  
    	
  <div class="container">
    <div class="masthead">
      <!-- Navbar -->
	  <div class="navbar navbar-inverse">
	    <div class="navbar-inner">
	      <div class="container" style="width: auto;">
	      <a class="brand" href="/">Meteor Doodle</a>
	        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	          <span class="icon-bar"></span>
	          <span class="icon-bar"></span>
	          <span class="icon-bar"></span>
	        </a>
	        <div class="nav-collapse">
	          <ul class="nav">
	            <li class="active"><a href="/">Home</a></li>
	            <li><a href="#">Features</a></li>
	            <li><a href="#">Why Doodle?</a></li>
	            <li><a href="#">Sign Up Free</a></li>
	          </ul>
	          
	          <ul class="nav pull-right">
	            <li><a href="#">{{loginButtons}}</a></li>
	          </ul>
	          
	        </div><!-- /.nav-collapse -->
	      </div>
	    </div><!-- /navbar-inner -->
	  </div><!-- /navbar -->
      </div>
      
      {{> appointments }}
  </div>
    
  <div class="footer">
    <p>&copy; Company & Company 2013</p>
  </div>
</template>

<template name="appointments">
  {{#if currentUser}}
    {{> dashboard }}
  {{/if}}
  
  {{#unless currentUser}}
    {{> landingSlider }}
  {{/unless}}
</template>

<template name="dashboard">
  <div class="page-header">
    <h1>Your Dashboard</h1>
  </div>
  
  {{> newappointment }}
  
  <span>Find your event:</span><input type="text" name="find_event" class="event_search_box"><input type="button" class="reset btn" value="Reset"><br/>
  <span class="description">(Start typing and the table will update itself based on the search results)</span>
  <hr>
  <div class="row">
    <div class="span4">
      <h2>List of Events</h2>
      {{#each appointments}}
        {{> appointment }}
      {{/each}}
    </div>
    
    <div class="span8">
      <h2>Event Details</h2>
      {{> appointmentdetail }}
    </div>
  </div>
</template>

<template name="newappointment">
  <form class="well form-search">
  <p><input type="text" id="title" placeholder="Event title">
  <input type="text" id="location" placeholder="Location (e.g. 1600 American Dream Way, Reston, VA 20122)">
  <a id="btnAddEvent" value="Add Event" class="btn btn-primary">
  	<i class="icon-calendar icon-white"/>Add Event</a>
  </form>	
</template>

<template name="appointment">
  <div class="aptlist {{selected}}">
  	<span class="title">{{title}}</span>
  	<div class="actions"><button id="btnMsgDelete" class="close">&times;</button></div><br/>
  	<span class="location">{{location}}</span>
  	
  </div>
</template>

<template name="appointmentdetail">
  {{#if selected}}
    <div class="appointmentdetail">
	  <div class="title">{{selected.title}}</div>
	  <span class="location">{{selected.location}}</span>
	  {{#if selected.timeproposals }}
	    <h3>Time Proposals</h3>
	    {{#each selected.timeproposals}}
	       <strong>Date: </strong><span>{{date}}</span>:<span>{{time}}</span>
	       <strong>Votes: </strong><span>{{votes}}</span>
	       <br/>
	    {{/each}}
	  {{/if}}
	  <input type="button" class="btn" value="Attendees" />
	  <input type="button" class="btn" value="Edit Event Details" />
	  <button type="button" id="btnTimeProposals" class="btn">Time Proposals</button>
	</div>
  {{/if}}

  {{#unless selected}}
    <div>Click an event to view details</div>
  {{/unless}}
  
  
  <!-- Time Proposals Modal -->
  <div id="timeProposalModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
      <h3 id="myModalLabel">Manage Time Proposals</h3>
    </div>
  
    <div class="modal-body">
      <span>New time proposal:</span><input type="text" id="proposalDate" placeholder="Proposal date">
      <input type="text" id="proposalTime" placeholder="Proposal time">
      <a id="btnAddTimeProposal" value="Add Proposal" class="btn btn-primary btn-small">
  	    <i class="icon-time icon-white"/>Add Proposal</a>
    </div>
    
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
      <button class="btn btn-primary">Save changes</button>
    </div>
</div>
  
</template>

<template name="landingSlider">
  <div>
    <!-- Jumbotron -->
      <div class="jumbotron">
        <h1>Marketing stuff!</h1>
        <p class="lead">Cras justo odio, dapibus ac facilisis in, egestas eget quam. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
        <a class="btn btn-large btn-success" href="#">Get started today</a>
      </div>

      <hr>

      <!-- Example row of columns -->
      <div class="row-fluid">
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
       </div>
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
      </div>

      <hr>

  </div>
</template>

<template name="timeProposalsDialog">
  <div class="mask"> </div>
  <div class="modal">
    <div class="modal-header">
      <button type="button" class="close done">&times;</button>
      <h3>Add Time Proposals</h3>
    </div>

    <div class="modal-body">
      <div class=row-fluid">
        <div class="span2">
          <h4>Time Proposal</h4>
          <span>New time proposal:</span><input type="text" id="proposalDate" placeholder="Proposal date">
      		<input type="text" id="proposalTime" placeholder="Proposal time">
      		<a id="btnAddTimeProposals" value="Add Proposal" class="btn btn-primary btn-small">
  	    		<i class="icon-time icon-white"/>Add Proposal</a>
        </div>
      </div>
      
    </div>

    <div class="modal-footer">
      <a href="#" class="btn btn-primary done">Done</a>
    </div>
  </div>
</template>
